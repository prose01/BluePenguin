<div class="grid grid-pad">

  <div class="spinner-overlay" *ngIf="loading">
    <div class="spinner-container">
      <mat-spinner class="custom-spinner"></mat-spinner>
    </div>
  </div>


  <div *ngIf="noFeedbacks" class="noResults">
    <p>
      {{'FeedbackAdminComponent.NoResultsText'| transloco}}
    </p>
  </div>


  <div *ngIf="dataSource && !noFeedbacks" class="mat-elevation-z8">

    <table mat-table #table [dataSource]="dataSource" multiTemplateDataRows matSort>

      <!-- Checkbox Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox (change)="$event ? masterToggle() : null"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()"
                        [aria-label]="checkboxLabel()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? selection.toggle(row) : null"
                        [checked]="selection.isSelected(row)"
                        [aria-label]="checkboxLabel(row)">
          </mat-checkbox>
        </td>

      </ng-container>
      <!-- FromId Column -->
      <ng-container matColumnDef="fromId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'FeedbackAdminComponent.FromName'| transloco}} </th>
        <td mat-cell *matCellDef="let element"> {{element?.fromId}} </td>
      </ng-container>

      <!-- FromName Column -->
      <ng-container matColumnDef="fromName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'FeedbackAdminComponent.FromName'| transloco}} </th>
        <td mat-cell *matCellDef="let element"> {{element?.fromName}} </td>
      </ng-container>

      <!-- ToId Column -->
      <ng-container matColumnDef="toId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'FeedbackAdminComponent.AdminName'| transloco}} </th>
        <td mat-cell *matCellDef="let element"> {{element?.toId}} </td>
      </ng-container>

      <!-- ToName Column -->
      <ng-container matColumnDef="toName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'FeedbackAdminComponent.AdminName'| transloco}} </th>
        <td mat-cell *matCellDef="let element"> {{element?.toName}} </td>
      </ng-container>

      <!-- DateSent Column -->
      <ng-container matColumnDef="dateSent">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'FeedbackAdminComponent.DateSent'| transloco}} </th>
        <td mat-cell *matCellDef="let element"> {{element?.dateSent | translocoDate: { dateStyle: 'medium', timeStyle: 'medium'} }} </td>
      </ng-container>

      <!-- DateSeen Column -->
      <ng-container matColumnDef="dateSeen">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'FeedbackAdminComponent.DateSeen'| transloco}} </th>
        <td mat-cell *matCellDef="let element"> {{element?.dateSeen | translocoDate: { dateStyle: 'medium', timeStyle: 'medium'} }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

      <tr mat-row *matRowDef="let element; columns: displayedColumns;"
          class="element-row"
          (click)="openImageDialog(element)">
      </tr>

    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]"></mat-paginator>

  </div>
</div>

