<div class="grid grid-pad">

  <div class="spinner-overlay" *ngIf="loading">
    <div class="spinner-container">
      <mat-spinner class="custom-spinner"></mat-spinner>
    </div>
  </div>

  <div *ngIf="noProfiles" class="noResults">
    <p>
      {{'NoResultsText'| transloco}}
    </p>
  </div>

  <ul class="mdc-image-list mdc-image-list--masonry masonry-image-list"
      infinite-scroll
      [infiniteScrollDistance]="scrollDistance"
      [infiniteScrollUpDistance]="scrollUpDistance"
      [infiniteScrollThrottle]="throttle"
      [scrollWindow]="true"
      (scrolled)="onScrollDown()"
      (scrolledUp)="onScrollUp()">
    <li class="mdc-image-list__item" *ngFor="let profile of currentProfiles">

      <img class="mdc-image-list__image" [lazyLoad]="profile.images[profile.imageNumber]?.image" [defaultImage]="profile.images[profile.imageNumber]?.smallimage" (click)="openImageDialog(profile)">
      <i class="material-icons icon-orange-left" *ngIf="!currentUserSubject?.isBookmarked[profile.profileId] && currentUserSubject?.visited[profile.profileId]" matTooltip="{{'TileViewComponent.VisitedMe'| transloco}} {{currentUserSubject.visited[profile.profileId] | translocoDate: { dateStyle: 'medium', timeStyle: 'medium'} }}">adjust</i>
      <i class="material-icons icon-orange-left" *ngIf="currentUserSubject?.isBookmarked[profile.profileId]" matTooltip="{{'TileViewComponent.BookmarkedMe'| transloco}}">bookmark_added</i>
      <i class="material-icons icon-orange-right" *ngIf="!profile.contactable" matTooltip="{{'TileViewComponent.NotContactable'| transloco}}">person_off</i>

      <div class="overlay-images">
        <!--<div class="mdc-image-list--with-text-protection">-->
        <div class="mdc-image-list__supporting">
          <span class="mdc-image-list__label">{{profile.name}}</span>
          <button mat-icon-button class="delete" *ngIf="currentUserSubject != null && currentUserSubject.admin" (click)="openDeleteProfilesDialog(profile)" matTooltip="{{'TileViewComponent.DeleteProfile'| transloco}}">
            <i class="material-icons icon-white">delete</i>
          </button>
        </div>

        <div class="button">
          <button mat-icon-button class="like" *ngIf="liked(profile)" (click)="removeLike(profile)" matTooltip="{{profile.likes?.length}} {{'TileViewComponent.Likes'| transloco}}">
            <i class="material-icons icon-white">favorite</i>
          </button>
          <button mat-icon-button class="like" *ngIf="!liked(profile)" (click)="addLike(profile)" matTooltip="{{profile.likes?.length}} {{'TileViewComponent.Likes'| transloco}}">
            <i class="material-icons icon-white">favorite_border</i>
          </button>
        </div>

        <div class="button">
          <button mat-icon-button *ngIf="bookmarked(profile.profileId)" (click)="removeBookmarkedProfiles(profile.profileId)" matTooltip="{{'TileViewComponent.RemoveFromBookmarked'| transloco}}">
            <i class="material-icons icon-white">bookmark</i>
          </button>
          <button mat-icon-button *ngIf="!bookmarked(profile.profileId)" (click)="addBookmarkedProfiles(profile.profileId)" matTooltip="{{'TileViewComponent.AddToBookmarked'| transloco}}">
            <i class="material-icons icon-white">bookmark_border</i>
          </button>
        </div>
        <!--</div>-->
      </div>

    </li>
  </ul>

</div>
